<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8"/>
    <title>PolyXpress Story Administration</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css" type="text/css">

    <style type="text/css">
        body {
            padding-top: 60px;
            padding-bottom: 40px;
        }

        .sidebar-nav {
            padding: 9px 0;
        }
    </style>

    <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <!--[if lte IE 7]>
    <script src="../js/IE8.js" type="text/javascript"></script><![endif]-->
    <!--[if lt IE 7]>
    <link rel="stylesheet" type="text/css" media="all" href="../css/ie6.css"/><![endif]-->
</head>

<body id="index" class="home, container-fluid">
<h1>PolyXpress Story Administration</h1>
<a href="/admin" class="btn btn-primary">Home</a>
<br><br>

<!--article-->
<ul class="nav nav-tabs" id="peTab">
    <li class="active"><a href="#all">Display All</a></li>
    <li><a href="#find">Find/Update</a></li>
    <li><a href="#create">Create</a></li>
    <li><a href="#delete">Delete</a></li>
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="all">
        <section>
            <h2>List</h2>

            <form name="displayAll">
                <label>Type:
                    <select name="typeField">
                        <option value="1">User</option>
                        <option value="2">Story</option>
                        <option value="3">Chapter</option>
                        <option value="4">Page</option>
                    </select>
                </label>
                <button type="button" class="btn" onclick="peSA.displayAll(this.form);">Refresh</button>
            </form>
            <ul id="displayAllList">
            </ul>
        </section>
    </div>
    <div class="tab-pane" id="find">
        <section>
            <h2>Find</h2>

            <form name="findItem">
                <label>Type:
                    <select name="typeField">
                        <option value="1">User</option>
                        <option value="2">Story</option>
                        <option value="3">Chapter</option>
                        <option value="4">Page</option>
                    </select>
                </label>
                <label>Database ID:
                    <input name="searchKey" type="text">
                </label>
                <button type="button" class="btn" onClick="peSA.findItem(this.form);">Find</button>
            </form>
            <h2>Update</h2>

            <form name="updateItem">
                <textarea style="width:80%;" rows="8" cols="150" wrap="soft" name="itemJSON"></textarea>
                <br>
                <button type="button" class="btn" onClick="peSA.updateItem(this.form);">Update</button>
            </form>
            <h3>Update Result</h3>

            <div id="updateItemDisplay">no result</div>
        </section>
    </div>
    <div class="tab-pane" id="create">
        <section>
            <h2>Create</h2>

            <form name="createItem">
                <label>Type:
                    <select name="typeField">
                        <option value="1">User</option>
                        <option value="2">Story</option>
                        <option value="3">Chapter</option>
                        <option value="4">Page</option>
                    </select>
                </label>
                <label>Enter JSON (no _id): <br>
                    <textarea style="width:80%;" rows="8" cols="150" wrap="soft" name="newItemJSON"></textarea>
                </label>
                <button type="button" class="btn" onClick="peSA.createItem(this.form);">Create</button>
            </form>
            <h3>Result</h3>

            <div id="createItemDisplay">no result</div>
        </section>
    </div>
    <div class="tab-pane" id="delete">
        <section>
            <h2>Delete</h2>

            <form name="deleteItem">
                <label>Type:
                    <select name="typeField">
                        <option value="1">User</option>
                        <option value="2">Story</option>
                        <option value="3">Chapter</option>
                        <option value="4">Page</option>
                    </select>
                </label>
                <label>Database ID:
                    <input name="searchKey" type="text">
                </label>
                <button type="button" class="btn" onClick="peSA.deleteItem(this.form);">Delete</button>
            </form>
            <h3>Result</h3>

            <div id="deleteItemDisplay">no result</div>
        </section>
    </div>
</div>
<!--/article-->

<!-- Scripts added at end of body to speed loading time -->
<script src="../javascripts/jquery-1.8.2.min.js"></script>
<script src="../bootstrap/js/bootstrap.js"></script>
<script src="../javascripts/peAdmin.js"></script>

<script>
    // All PolyXpress apps requiring facebook login need to set the following login cookie value
    function setLoginRedirect() {
        document.cookie = "peLoginRedirect=/; path=/";
    }
    // All PolyXpress apps requiring facebook login need to set the following logout cookie value
    function setLogoutRedirect() {
        document.cookie = "peLogoutRedirect=/; path=/";
    }
    // Note: have another script area down below to handle bootstrap tabs
</script>
<script>
    // Added this for bootstrap.js tabs
    $('#peTab a').click(function (e) {
        e.preventDefault();
        $(this).tab('show');
    });

    $(function () {
        $('peTab a:first').tab('show');
    });

</script>

</body>

</html>

