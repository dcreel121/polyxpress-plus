/*! PointFinder 28-06-2014 */
function getGlobalContainer(){var a;return"undefined"!=typeof module?a=module:"undefined"!=typeof window&&(window.exports=window.exports||{},a=window),a}!function(a){a.exports=function(a){"use strict";function b(b,d){a.log(a.LEVEL.DEBUG,"__locationEventHandler: lat = "+d.coords.latitude+" lng = "+d.coords.longitude),d.coords.accuracy<h?(c(d),b(d)):(a.log(a.LEVEL.PRODUCTION,"Geolocation Watch:  Dropping inaccurate point ("+d.coords.accuracy+")."),k+=20,k>500&&(k=500))}function c(a){k=k*i+(1-i)*a.coords.accuracy}function d(b){var c={0:"Unknown error",1:"Permission denied by user",2:"Position is not available",3:"Request timed out"},d=c[b.code];(0===b.code||2===b.code)&&(d=d+" "+b.message),a.log(a.LEVEL.PRODUCTION,"MAP ERROR:  "+d)}var e={};e.test={};var f,g={timeout:3e4,enableHighAccuracy:!0,maximumAge:0},h=300,i=.2,j=null,k=100,l=0;return e.startWatch=function(c,e){a.log(a.LEVEL.DEBUG,"startWatch: called");var h;navigator.geolocation.getCurrentPosition(c,d,g),null===j?(a.log(a.LEVEL.DEBUG,"startWatch: watchPosition called."+j),f=null,k=100,l=0,h=b.bind(this,e),j=navigator.geolocation.watchPosition(h,d,g)):a.log(a.LEVEL.PRODUCTION,"startWatch Error: watchPosition already called")},e.stopWatch=function(){a.log(a.LEVEL.DEBUG,"stopWatch: watchPointId: "+j+" geoOptions = "+JSON.stringify(g)),j&&(a.log(a.LEVEL.DEBUG,"stopWatch: aa = "+e.getAverageAccuracy()),navigator.geolocation.clearWatch(j),j=null)},e.getAverageAccuracy=function(){return k},e.setMinAccuracy=function(a){h=a},e}}(getGlobalContainer());